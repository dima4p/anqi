- show = {}
- show[:collections] = can?(:index, Collection)
- show[:decks]       = can?(:index, Deck)
- show[:notes]       = can?(:index, Note)
- show[:cards]       = can?(:index, Card)

%nav#main_menu
  - if show.values.find {|v| v}
    %ul.main_menu
      - if show[:collections]
        - active = controller_name == 'collections' ? 'active' : ''
        %li{:class => active}
          = link_to t('.collections'), collections_path, :class => 'collections'
      - if show[:decks]
        - active = controller_name == 'decks' ? 'active' : ''
        %li{:class => active}
          = link_to t('.decks'), collection_decks_path(collection_id: 1), :class => 'decks'
      - if show[:notes]
        - active = controller_name == 'notes' ? 'active' : ''
        %li{:class => active}
          = link_to t('.notes'), notes_path, :class => 'notes'
      - if show[:cards]
        - active = controller_name == 'cards' ? 'active' : ''
        %li{:class => active}
          = link_to t('.cards'), cards_path, :class => 'cards'
